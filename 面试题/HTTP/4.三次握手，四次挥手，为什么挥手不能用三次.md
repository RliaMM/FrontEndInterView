# 三次握手，四次挥手，为什么挥手不能用三次

## 三次握手

确认双方能够互相通信

- 客户端发送握手请求 seq = 0
- 服务器回复 seq = 0; ack = 1 (客户端请求 seq+1)
- 客户端回复 seq = seq (服务器回复的 seq) + 1

## 四次挥手

- 客户端发送请求，我要断开链接 FIN, 发送数据 seq = x+1 ack
- 服务器回复，确认收到断开请求 ack: x+1+1
- 服务器发送 FIN, 表示也要断开请求 seq = y+1
- 客户端回复一个: ack: y+1+1

服务器关闭是一个异步过程，需要先回复收到断开请求，然后等待服务器关闭后，发送断开请求信号 FIN
