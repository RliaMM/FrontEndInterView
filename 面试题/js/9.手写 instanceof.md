# 手写 instanceof

```js
function Animation(name) {
  this.name = name;
}
const cat = new Animation("cat");

// console.log(cat instanceof Animation);

const myInstanceof = (left, target) => {
  if (!left || !target) return false;
  const right = target.prototype;
  while (true) {
    if (left === right) return true;
    if (!left) return false;
    left = left.__proto__;
  }
};
console.log(myInstanceof(cat, Animation));
console.log(myInstanceof(cat, Object));
```

当 instaceof 前面是 str 原始数据类型的时候，回执行 [Symbol.hasInstance] 方法

```js
var str = "test";
// string[Symbol.hasInstance](str) ===> false

class CustomStr {
  [Symbol.hasInstance](x) {
    return typeof x === "string";
  }
}
console.log("hello" instanceof CustomStr); // === true
```
